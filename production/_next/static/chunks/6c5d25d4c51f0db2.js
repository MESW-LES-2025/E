(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27094,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),n=e.i(67881),i=e.i(13626);function r(){let[e,r]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null),[u,p]=(0,s.useState)(!1),[h,j]=(0,s.useState)(null),g="https://APimenta4prod.pythonanywhere.com/api";if((0,s.useEffect)(()=>{(async()=>{try{o(!0),m(null);let e=await fetch(`${g}/events/upcoming/`);if(!e.ok)throw Error("Failed to fetch upcoming events");let t=await e.json();r(t.results??[]);let s=await fetch(`${g}/events/past/`);if(!s.ok)throw Error("Failed to fetch past events");let a=await s.json();c(a.results??[])}catch(e){console.error(e),m("Could not load events")}finally{o(!1)}})()},[g]),d)return(0,t.jsx)("div",{className:"container mx-auto p-8 max-w-7xl",children:(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"py-12 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading events..."})})})});if(x)return(0,t.jsx)("div",{className:"container mx-auto p-8 max-w-7xl",children:(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"py-12 text-center",children:(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Error: ",x]})})})});let f=e=>(0,t.jsxs)(a.Card,{className:"hover:shadow-lg transition-shadow relative flex flex-col",children:["Canceled"===e.status&&(0,t.jsx)("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-md z-10",children:"Canceled"}),(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"line-clamp-2",children:e.name}),(0,t.jsx)(a.CardDescription,{children:new Date(e.date).toLocaleString()})]}),(0,t.jsxs)(a.CardContent,{className:"flex-1",children:[e.location?(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ðŸ“ ",e.location]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground opacity-0",children:"Â "}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[void 0!==e.participant_count&&(0,t.jsxs)("span",{children:["ðŸ‘¥ ",e.participant_count,e.participant_count>0&&" participants"]}),void 0!==e.interest_count&&e.interest_count>0&&(0,t.jsxs)("span",{children:["â¤ï¸ ",e.interest_count," interested"]})]})]}),(0,t.jsx)(a.CardFooter,{children:(0,t.jsx)(n.Button,{variant:"outline",className:"w-full",onClick:()=>{j(String(e.id)),p(!0)},children:"View Details"})})]},e.id);return(0,t.jsxs)("div",{className:"container mx-auto p-8 max-w-7xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Upcoming Events"})}),0===e.length?(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"py-12 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No upcoming events are available at the moment."})})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f)})]}),(0,t.jsxs)("div",{className:"mt-12",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Past Events"})}),0===l.length?(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"py-12 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No past events are available."})})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(f)})]}),u&&h&&(0,t.jsx)(i.default,{id:h,onClose:()=>{p(!1),j(null)},onInterestChange:(e,t,s)=>{r(t=>t.map(t=>t.id===e?{...t,interest_count:s}:t)),c(t=>t.map(t=>t.id===e?{...t,interest_count:s}:t))},onParticipationChange:(e,t,s,a)=>{r(n=>n.map(n=>n.id===e?{...n,participant_count:s,is_participating:t,is_full:a}:n)),c(n=>n.map(n=>n.id===e?{...n,participant_count:s,is_participating:t,is_full:a}:n))}})]})}e.s(["default",()=>r])}]);