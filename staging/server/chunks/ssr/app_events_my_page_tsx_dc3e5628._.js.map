{"version":3,"sources":["turbopack:///[project]/app/events/my/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, type FormEvent } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { isAuthenticated } from \"@/lib/auth\";\nimport { getProfile, type ProfileRole } from \"@/lib/profiles\";\nimport { fetchWithAuth } from \"@/lib/auth\";\nimport { getMyOrganizedEvents, type Event } from \"@/lib/events\";\nimport { getMyOrganizations, type Organization } from \"@/lib/organizations\";\nimport {\n  Card,\n  CardContent,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n} from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Field,\n  FieldLabel,\n  FieldContent,\n  FieldError,\n} from \"@/components/ui/field\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport EventModal from \"@/components/EventModal\";\n\nconst API_BASE =\n  process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8000/api\";\n\ntype OrganizedEventsByOrg = {\n  [organizationName: string]: Event[];\n};\n\nconst CATEGORY_COLORS: Record<string, string> = {\n  SOCIAL: \"bg-blue-500 text-white\",\n  ACADEMIC: \"bg-green-500 text-white\",\n  TRAVEL: \"bg-yellow-500 text-black\",\n  SPORTS: \"bg-red-500 text-white\",\n  CULTURAL: \"bg-purple-500 text-white\",\n  VOLUNTEERING: \"bg-teal-500 text-white\",\n  NIGHTLIFE: \"bg-pink-500 text-white\",\n};\n\nexport default function MyEventsPage() {\n  const router = useRouter();\n  const [mounted, setMounted] = useState(false);\n  const [authed, setAuthed] = useState(false);\n  const [userRole, setUserRole] = useState<ProfileRole | null>(null);\n  const [organizations, setOrganizations] = useState<Organization[]>([]);\n  const [ownedOrganizationIds, setOwnedOrganizationIds] = useState<Set<number>>(\n    new Set(),\n  );\n  const [organizedEvents, setOrganizedEvents] = useState<OrganizedEventsByOrg>(\n    {},\n  );\n  const [participatingEvents, setParticipatingEvents] = useState<Event[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedEventId, setSelectedEventId] = useState<string | null>(null);\n\n  // Create event form state\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [selectedOrganizationId, setSelectedOrganizationId] =\n    useState<string>(\"\");\n  const [formData, setFormData] = useState({\n    name: \"\",\n    date: \"\",\n    location: \"\",\n    description: \"\",\n    capacity: \"\",\n    category: \"\",\n  });\n  const [formErrors, setFormErrors] = useState<Record<string, string>>({});\n  const [formSubmitError, setFormSubmitError] = useState<string>(\"\");\n  const [formSubmitting, setFormSubmitting] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    const authenticated = isAuthenticated();\n    setAuthed(authenticated);\n\n    if (!authenticated) {\n      router.replace(\"/profile/login\");\n      return;\n    }\n\n    const fetchMyEvents = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Get user profile to check role and get participating event IDs\n        const profile = await getProfile();\n        setUserRole(profile.role);\n        const eventIds = profile.participating_events || [];\n\n        // Fetch organized events and organizations if user is an organizer\n        if (profile.role === \"ORGANIZER\") {\n          try {\n            // Fetch organizations (owned and collaborated)\n            const orgsData = await getMyOrganizations();\n            // Combine owned and collaborated organizations\n            const allOrgs = [\n              ...(orgsData.owned || []),\n              ...(orgsData.collaborated || []),\n            ];\n            setOrganizations(allOrgs);\n\n            // Track which organizations are owned\n            const ownedIds = new Set(\n              (orgsData.owned || []).map((org) => org.id),\n            );\n            setOwnedOrganizationIds(ownedIds);\n\n            // Auto-select organization if only one\n            if (allOrgs.length === 1) {\n              setSelectedOrganizationId(String(allOrgs[0].id));\n            }\n\n            // Fetch organized events\n            const organized = await getMyOrganizedEvents();\n            // Group events by organization\n            const grouped: OrganizedEventsByOrg = {};\n            organized.forEach((event) => {\n              const orgName = event.organization_name || \"Unknown Organization\";\n              if (!grouped[orgName]) {\n                grouped[orgName] = [];\n              }\n              grouped[orgName].push(event);\n            });\n            setOrganizedEvents(grouped);\n          } catch (err) {\n            console.error(\n              \"Failed to load organized events or organizations:\",\n              err,\n            );\n            // Don't fail the whole page if organized events fail\n          }\n        }\n\n        // Fetch participating events\n        if (eventIds.length === 0) {\n          setParticipatingEvents([]);\n          setLoading(false);\n          return;\n        }\n\n        // Fetch each event by ID\n        const eventPromises = eventIds.map(async (eventId: number) => {\n          try {\n            const response = await fetchWithAuth(\n              `${API_BASE}/events/${eventId}/`,\n              {\n                method: \"GET\",\n              },\n            );\n\n            if (!response.ok) {\n              console.error(`Failed to fetch event ${eventId}`);\n              return null;\n            }\n\n            return response.json();\n          } catch (err) {\n            console.error(`Error fetching event ${eventId}:`, err);\n            return null;\n          }\n        });\n\n        const eventResults = await Promise.all(eventPromises);\n        // Filter out null results and sort by date\n        const validEvents = eventResults\n          .filter((event): event is Event => event !== null)\n          .sort(\n            (a, b) => new Date(a.date).getTime() - new Date(b.date).getTime(),\n          );\n\n        setParticipatingEvents(validEvents);\n      } catch (err) {\n        console.error(\"Failed to load events:\", err);\n        setError(\n          err instanceof Error ? err.message : \"Failed to load your events\",\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMyEvents();\n  }, [router]);\n\n  if (!mounted || !authed || loading) {\n    return (\n      <div className=\"container mx-auto p-8 max-w-7xl\">\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <p className=\"text-muted-foreground\">Loading your events...</p>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mx-auto p-8 max-w-7xl\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Error</CardTitle>\n            <CardDescription>{error}</CardDescription>\n          </CardHeader>\n          <CardFooter>\n            <Button variant=\"outline\" onClick={() => router.push(\"/\")}>\n              Back to Home\n            </Button>\n          </CardFooter>\n        </Card>\n      </div>\n    );\n  }\n\n  const renderEventCard = (event: Event) => (\n    <Card\n      key={event.id}\n      className=\"hover:shadow-lg transition-shadow relative flex flex-col\"\n    >\n      <div className=\"absolute top-2 right-2 flex items-center gap-2 z-10\">\n        <span\n          className={`px-2 py-1 text-xs font-semibold rounded-md ${\n            CATEGORY_COLORS[event.category] || \"bg-gray-500 text-white\"\n          }`}\n        >\n          {event.category}\n        </span>\n        {event.status && (\n          <span\n            className={`text-white text-xs px-2 py-1 rounded-md font-semibold ${\n              event.status === \"Active\"\n                ? \"bg-green-500\"\n                : event.status === \"Cancelled\" || event.status === \"Canceled\"\n                  ? \"bg-red-500\"\n                  : \"bg-gray-500\"\n            }`}\n          >\n            {event.status}\n          </span>\n        )}\n      </div>\n\n      <CardHeader>\n        <CardTitle>{event.name}</CardTitle>\n        <CardDescription>\n          {new Date(event.date).toLocaleString()}\n        </CardDescription>\n      </CardHeader>\n\n      <CardContent className=\"flex-1\">\n        {event.location ? (\n          <p className=\"text-sm text-muted-foreground\">üìç {event.location}</p>\n        ) : (\n          <p className=\"text-sm text-muted-foreground opacity-0\">\n            {/* Spacer to maintain consistent height */}\n            &nbsp;\n          </p>\n        )}\n        {(event.created_by || event.organizer_name) && (\n          <p className=\"text-sm text-muted-foreground mt-2\">\n            Created by {event.created_by || event.organizer_name}\n          </p>\n        )}\n        <div className=\"flex items-center gap-3 mt-2 text-xs text-muted-foreground\">\n          {event.participant_count !== undefined && (\n            <span>üë• {event.participant_count} participants</span>\n          )}\n          {event.interest_count !== undefined && (\n            <span>‚ù§Ô∏è {event.interest_count} interested</span>\n          )}\n        </div>\n      </CardContent>\n\n      <CardFooter>\n        <Button\n          variant=\"outline\"\n          className=\"w-full\"\n          onClick={() => {\n            setSelectedEventId(String(event.id));\n            setModalOpen(true);\n          }}\n        >\n          View Details\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n\n  const refreshEvents = async () => {\n    if (!authed) return;\n\n    try {\n      const profile = await getProfile();\n      const eventIds = profile.participating_events || [];\n\n      // Refresh organized events and organizations if organizer\n      if (profile.role === \"ORGANIZER\") {\n        try {\n          // Refresh organizations\n          const orgsData = await getMyOrganizations();\n          const allOrgs = [\n            ...(orgsData.owned || []),\n            ...(orgsData.collaborated || []),\n          ];\n          setOrganizations(allOrgs);\n\n          // Track which organizations are owned\n          const ownedIds = new Set((orgsData.owned || []).map((org) => org.id));\n          setOwnedOrganizationIds(ownedIds);\n\n          // Refresh organized events\n          const organized = await getMyOrganizedEvents();\n          const grouped: OrganizedEventsByOrg = {};\n          organized.forEach((event) => {\n            const orgName = event.organization_name || \"Unknown Organization\";\n            if (!grouped[orgName]) {\n              grouped[orgName] = [];\n            }\n            grouped[orgName].push(event);\n          });\n          setOrganizedEvents(grouped);\n        } catch (err) {\n          console.error(\n            \"Failed to refresh organized events or organizations:\",\n            err,\n          );\n        }\n      }\n\n      // Refresh participating events\n      if (eventIds.length === 0) {\n        setParticipatingEvents([]);\n        return;\n      }\n\n      const eventPromises = eventIds.map(async (eventId: number) => {\n        try {\n          const response = await fetchWithAuth(\n            `${API_BASE}/events/${eventId}/`,\n            {\n              method: \"GET\",\n            },\n          );\n\n          if (!response.ok) return null;\n          return response.json();\n        } catch {\n          return null;\n        }\n      });\n\n      const eventResults = await Promise.all(eventPromises);\n      const validEvents = eventResults\n        .filter((event): event is Event => event !== null)\n        .sort(\n          (a, b) => new Date(a.date).getTime() - new Date(b.date).getTime(),\n        );\n\n      setParticipatingEvents(validEvents);\n    } catch (err) {\n      console.error(\"Failed to refresh events:\", err);\n    }\n  };\n\n  const validateEventForm = () => {\n    const newErrors: Record<string, string> = {};\n    let hasErrors = false;\n\n    if (!selectedOrganizationId) {\n      newErrors.organization = \"Organization is required\";\n      hasErrors = true;\n    }\n\n    Object.entries(formData).forEach(([key, value]) => {\n      if (key === \"capacity\") return; // ignores empty validation\n      if (typeof value === \"string\" && !value.trim()) {\n        newErrors[key] =\n          `${key.charAt(0).toUpperCase() + key.slice(1)} is required`;\n        hasErrors = true;\n      }\n    });\n\n    // validates if capacity is a positive number\n    if (formData.capacity && Number(formData.capacity) < 0) {\n      newErrors.capacity = \"Capacity cannot be negative\";\n      hasErrors = true;\n    }\n\n    setFormErrors(newErrors);\n    if (hasErrors) {\n      setFormSubmitError(\"Please fill in all required fields\");\n      return false;\n    }\n\n    setFormSubmitError(\"\");\n    return true;\n  };\n\n  const handleCreateEvent = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!validateEventForm()) {\n      return;\n    }\n\n    try {\n      setFormSubmitting(true);\n      const dataToSend = {\n        ...formData,\n        capacity: formData.capacity === \"\" ? 0 : Number(formData.capacity),\n        organization: Number(selectedOrganizationId),\n      };\n\n      const response = await fetchWithAuth(`${API_BASE}/events/create/`, {\n        method: \"POST\",\n        body: JSON.stringify(dataToSend),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to create event\");\n      }\n\n      // Reset form\n      setFormData({\n        name: \"\",\n        date: \"\",\n        location: \"\",\n        description: \"\",\n        capacity: \"\",\n        category: \"\",\n      });\n      setFormErrors({});\n      setFormSubmitError(\"\");\n      setShowCreateForm(false);\n\n      // Refresh events\n      await refreshEvents();\n    } catch (error) {\n      setFormSubmitError(\"Failed to create event\");\n      console.error(\"Error creating event:\", error);\n    } finally {\n      setFormSubmitting(false);\n    }\n  };\n\n  const organizedEventsCount = Object.values(organizedEvents).reduce(\n    (sum, events) => sum + events.length,\n    0,\n  );\n  const hasOrganizedEvents = organizedEventsCount > 0;\n  const hasParticipatingEvents = participatingEvents.length > 0;\n  const hasOrganizations = organizations.length > 0;\n\n  return (\n    <div className=\"container mx-auto p-8 max-w-7xl\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold\">My Events</h1>\n      </div>\n\n      {/* Section 1: Events I'm Organizing (for organizers only) */}\n      {userRole === \"ORGANIZER\" && (\n        <div className=\"mb-12\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-2xl font-semibold\">\n              Events I&apos;m Organizing\n            </h2>\n            {hasOrganizations && (\n              <Button\n                variant={showCreateForm ? \"outline\" : \"default\"}\n                onClick={() => setShowCreateForm(!showCreateForm)}\n              >\n                {showCreateForm ? \"Cancel\" : \"Create Event\"}\n              </Button>\n            )}\n          </div>\n\n          {showCreateForm && hasOrganizations && (\n            <Card className=\"mb-6\">\n              <CardContent className=\"pt-6\">\n                <div className=\"text-left max-w-2xl mx-auto\">\n                  <h3 className=\"text-xl font-semibold mb-4\">\n                    Create New Event\n                  </h3>\n                  <form onSubmit={handleCreateEvent}>\n                    <Field className=\"mb-4\">\n                      <FieldLabel>\n                        Organization <span className=\"text-destructive\">*</span>\n                      </FieldLabel>\n                      <FieldContent>\n                        <Select\n                          value={selectedOrganizationId}\n                          onValueChange={(value) => {\n                            setSelectedOrganizationId(value);\n                            setFormErrors({ ...formErrors, organization: \"\" });\n                            setFormSubmitError(\"\");\n                          }}\n                        >\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select organization\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {organizations.map((org) => (\n                              <SelectItem key={org.id} value={String(org.id)}>\n                                {org.name}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                        {formErrors.organization && (\n                          <FieldError>{formErrors.organization}</FieldError>\n                        )}\n                      </FieldContent>\n                    </Field>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4\">\n                      <Field>\n                        <FieldLabel>\n                          Name <span className=\"text-destructive\">*</span>\n                        </FieldLabel>\n                        <FieldContent>\n                          <Input\n                            type=\"text\"\n                            value={formData.name}\n                            onChange={(e) => {\n                              setFormData({\n                                ...formData,\n                                name: e.target.value,\n                              });\n                              setFormErrors({ ...formErrors, name: \"\" });\n                              setFormSubmitError(\"\");\n                            }}\n                          />\n                        </FieldContent>\n                        {formErrors.name && (\n                          <FieldError>{formErrors.name}</FieldError>\n                        )}\n                      </Field>\n\n                      <Field>\n                        <FieldLabel>\n                          Date and Time{\" \"}\n                          <span className=\"text-destructive\">*</span>\n                        </FieldLabel>\n                        <FieldContent>\n                          <Input\n                            type=\"datetime-local\"\n                            value={formData.date}\n                            onChange={(e) => {\n                              setFormData({\n                                ...formData,\n                                date: e.target.value,\n                              });\n                              setFormErrors({ ...formErrors, date: \"\" });\n                              setFormSubmitError(\"\");\n                            }}\n                          />\n                        </FieldContent>\n                        {formErrors.date && (\n                          <FieldError>{formErrors.date}</FieldError>\n                        )}\n                      </Field>\n\n                      <Field>\n                        <FieldLabel>\n                          Location <span className=\"text-destructive\">*</span>\n                        </FieldLabel>\n                        <FieldContent>\n                          <Input\n                            type=\"text\"\n                            value={formData.location}\n                            onChange={(e) => {\n                              setFormData({\n                                ...formData,\n                                location: e.target.value,\n                              });\n                              setFormErrors({ ...formErrors, location: \"\" });\n                              setFormSubmitError(\"\");\n                            }}\n                          />\n                        </FieldContent>\n                        {formErrors.location && (\n                          <FieldError>{formErrors.location}</FieldError>\n                        )}\n                      </Field>\n\n                      <Field>\n                        <FieldLabel>\n                          Category <span className=\"text-destructive\">*</span>\n                        </FieldLabel>\n                        <FieldContent>\n                          <Select\n                            value={formData.category}\n                            onValueChange={(value) => {\n                              setFormData({ ...formData, category: value });\n                              setFormErrors({ ...formErrors, category: \"\" });\n                              setFormSubmitError(\"\");\n                            }}\n                          >\n                            <SelectTrigger>\n                              <SelectValue placeholder=\"Select a category\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"SOCIAL\">Social</SelectItem>\n                              <SelectItem value=\"ACADEMIC\">Academic</SelectItem>\n                              <SelectItem value=\"TRAVEL\">Travel</SelectItem>\n                              <SelectItem value=\"SPORTS\">Sports</SelectItem>\n                              <SelectItem value=\"CULTURAL\">Cultural</SelectItem>\n                              <SelectItem value=\"VOLUNTEERING\">\n                                Volunteering\n                              </SelectItem>\n                              <SelectItem value=\"NIGHTLIFE\">\n                                Nightlife\n                              </SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </FieldContent>\n                        {formErrors.category && (\n                          <FieldError>{formErrors.category}</FieldError>\n                        )}\n                      </Field>\n\n                      <Field>\n                        <FieldLabel>Maximum Capacity</FieldLabel>\n                        <FieldContent>\n                          <Input\n                            type=\"number\"\n                            placeholder=\"Unlimited if blank\"\n                            value={formData.capacity}\n                            onChange={(e) => {\n                              setFormData({\n                                ...formData,\n                                capacity: e.target.value,\n                              });\n                              setFormErrors({ ...formErrors, capacity: \"\" });\n                              setFormSubmitError(\"\");\n                            }}\n                          />\n                        </FieldContent>\n                        {formErrors.capacity && (\n                          <FieldError>{formErrors.capacity}</FieldError>\n                        )}\n                      </Field>\n\n                      <Field className=\"md:col-span-2\">\n                        <FieldLabel>\n                          Description{\" \"}\n                          <span className=\"text-destructive\">*</span>\n                        </FieldLabel>\n                        <FieldContent>\n                          <textarea\n                            className=\"w-full p-2 border rounded min-h-[100px]\"\n                            value={formData.description}\n                            onChange={(e) => {\n                              setFormData({\n                                ...formData,\n                                description: e.target.value,\n                              });\n                              setFormErrors({ ...formErrors, description: \"\" });\n                              setFormSubmitError(\"\");\n                            }}\n                          />\n                        </FieldContent>\n                        {formErrors.description && (\n                          <FieldError>{formErrors.description}</FieldError>\n                        )}\n                      </Field>\n                    </div>\n\n                    <div className=\"flex gap-4 mt-6\">\n                      <Button type=\"submit\" disabled={formSubmitting}>\n                        {formSubmitting ? \"Creating...\" : \"Create Event\"}\n                      </Button>\n                      <Button\n                        type=\"button\"\n                        variant=\"outline\"\n                        onClick={() => {\n                          setShowCreateForm(false);\n                          setFormData({\n                            name: \"\",\n                            date: \"\",\n                            location: \"\",\n                            description: \"\",\n                            capacity: \"\",\n                            category: \"\",\n                          });\n                          setFormErrors({});\n                          setFormSubmitError(\"\");\n                        }}\n                      >\n                        Cancel\n                      </Button>\n                    </div>\n                    {formSubmitError && (\n                      <FieldError className=\"mt-4\">\n                        {formSubmitError}\n                      </FieldError>\n                    )}\n                  </form>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {hasOrganizedEvents ? (\n            // Show organized events grouped by organization\n            <>\n              {Object.entries(organizedEvents)\n                .sort(([orgA], [orgB]) => orgA.localeCompare(orgB))\n                .map(([organizationName, events]) => {\n                  // Get organization_id from the first event (all events in group have same org)\n                  const organizationId = events[0]?.organization_id;\n                  const isOwner = organizationId\n                    ? ownedOrganizationIds.has(organizationId)\n                    : false;\n                  const isCollaborator = organizationId\n                    ? !isOwner &&\n                      organizations.some((org) => org.id === organizationId)\n                    : false;\n\n                  return (\n                    <div key={organizationName} className=\"mb-8\">\n                      <div className=\"flex items-center gap-3 mb-4\">\n                        <h3 className=\"text-xl font-medium text-muted-foreground\">\n                          {organizationId ? (\n                            <Link\n                              href={`/organizations/detail?id=${organizationId}`}\n                              className=\"hover:text-foreground hover:underline transition-colors\"\n                              onClick={() => {\n                                sessionStorage.setItem(\n                                  \"org_detail_referrer\",\n                                  \"/events/my\",\n                                );\n                              }}\n                            >\n                              {organizationName}\n                            </Link>\n                          ) : (\n                            organizationName\n                          )}\n                        </h3>\n                        {isOwner && (\n                          <span className=\"px-2 py-1 text-xs font-semibold text-white bg-blue-600 rounded-md\">\n                            Owner\n                          </span>\n                        )}\n                        {isCollaborator && (\n                          <span className=\"px-2 py-1 text-xs font-semibold text-white bg-gray-600 rounded-md\">\n                            Collaborator\n                          </span>\n                        )}\n                      </div>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                        {events.map((event) => renderEventCard(event))}\n                      </div>\n                    </div>\n                  );\n                })}\n            </>\n          ) : hasOrganizations ? (\n            // No organized events but has organizations - show message\n            <Card>\n              <CardContent className=\"py-12 text-center\">\n                <p className=\"text-muted-foreground mb-4\">\n                  You haven&apos;t organized any events yet.\n                </p>\n              </CardContent>\n            </Card>\n          ) : (\n            // No organized events and no organizations\n            <Card>\n              <CardContent className=\"py-12 text-center\">\n                <p className=\"text-muted-foreground mb-4\">\n                  You are currently not part of any organization. You need to\n                  create or be invited to an organization before you can\n                  organize events.\n                </p>\n                <Button\n                  variant=\"outline\"\n                  onClick={() => router.push(\"/organizations/create\")}\n                >\n                  Create Organization\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      )}\n\n      {/* Section 2: Events I'm Participating In */}\n      <div className={userRole === \"ORGANIZER\" ? \"\" : \"\"}>\n        <h2 className=\"text-2xl font-semibold mb-4\">\n          Events I&apos;m Participating In\n        </h2>\n\n        {hasParticipatingEvents ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {participatingEvents.map((event) => renderEventCard(event))}\n          </div>\n        ) : (\n          <Card>\n            <CardContent className=\"py-12 text-center\">\n              <p className=\"text-muted-foreground mb-4\">\n                You have not registered for any events yet.\n              </p>\n              <Button variant=\"outline\" onClick={() => router.push(\"/events\")}>\n                Browse Events\n              </Button>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {modalOpen && selectedEventId && (\n        <EventModal\n          id={selectedEventId}\n          onClose={() => {\n            setModalOpen(false);\n            setSelectedEventId(null);\n            refreshEvents();\n          }}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}