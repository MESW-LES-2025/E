{"version":3,"sources":["turbopack:///[project]/lib/events.ts"],"sourcesContent":["import { fetchWithAuth } from \"./auth\";\n\nconst API_BASE =\n  process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8000/api\";\n\nexport interface Event {\n  id: number;\n  name: string;\n  date: string;\n  status: string;\n  location?: string;\n  description?: string;\n  capacity?: number;\n  participant_count?: number;\n  interest_count?: number;\n  is_participating?: boolean;\n  is_interested?: boolean;\n  is_full?: boolean;\n  organizer_name?: string;\n  created_by?: string;\n  organization_id?: number;\n  organization_name?: string;\n  category: string;\n}\n\ninterface Participant {\n  id: number;\n  username: string;\n  first_name: string;\n  last_name: string;\n}\n\nexport async function cancelEventRequest(eventId: number) {\n  return fetchWithAuth(`${API_BASE}/events/${eventId}/cancel/`, {\n    method: \"POST\",\n  });\n}\n\nexport async function uncancelEventRequest(eventId: number) {\n  return fetchWithAuth(`${API_BASE}/events/${eventId}/uncancel/`, {\n    method: \"POST\",\n  });\n}\n\nexport async function getMyOrganizedEvents(): Promise<Event[]> {\n  const response = await fetchWithAuth(`${API_BASE}/events/my-organized/`, {\n    method: \"GET\",\n  });\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw new Error(error?.detail || \"Failed to fetch organized events\");\n  }\n\n  const data = await response.json();\n  return data.results || data;\n}\n\nexport async function getEventParticipants(\n  eventId: number,\n): Promise<Participant[]> {\n  const response = await fetchWithAuth(\n    `${API_BASE}/events/${eventId}/participants/`,\n    {\n      method: \"GET\",\n    },\n  );\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw new Error(error?.detail || \"Failed to fetch event participants\");\n  }\n\n  const data = await response.json();\n  return data.results || data;\n}\n\nexport async function getEventInterestedUsers(\n  eventId: number,\n): Promise<Participant[]> {\n  const response = await fetchWithAuth(\n    `${API_BASE}/events/${eventId}/interested-users/`,\n    {\n      method: \"GET\",\n    },\n  );\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw new Error(error?.detail || \"Failed to fetch interested users\");\n  }\n\n  const data = await response.json();\n  return data.results || data;\n}\n\nexport async function markEventAsInterested(\n  eventId: number,\n): Promise<{ interest_count: number; is_interested: boolean }> {\n  const response = await fetchWithAuth(\n    `${API_BASE}/events/${eventId}/interested/`,\n    {\n      method: \"POST\",\n    },\n  );\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw new Error(error?.detail || \"Failed to mark event as interested\");\n  }\n\n  return response.json();\n}\n\nexport async function unmarkEventAsInterested(\n  eventId: number,\n): Promise<{ interest_count: number; is_interested: boolean }> {\n  const response = await fetchWithAuth(\n    `${API_BASE}/events/${eventId}/interested/`,\n    {\n      method: \"DELETE\",\n    },\n  );\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw new Error(error?.detail || \"Failed to unmark event as interested\");\n  }\n\n  return response.json();\n}\n\nexport async function getInterestedEvents(): Promise<Event[]> {\n  const response = await fetchWithAuth(`${API_BASE}/events/interested/`, {\n    method: \"GET\",\n  });\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}));\n    throw new Error(error?.detail || \"Failed to fetch interested events\");\n  }\n\n  const data = await response.json();\n  return data.results || data;\n}\n"],"names":[],"mappings":"uCAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EACJ,SAAA,kCA6BK,IA7BmC,WA6BpB,EAAmB,CAAe,EACtD,MAAO,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,CAAA,EAAG,EAAS,QAAQ,EAAE,EAAQ,QAAQ,CAAC,CAAE,CAC5D,OAAQ,MACV,EACF,CAEO,eAAe,EAAqB,CAAe,EACxD,MAAO,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,CAAA,EAAG,EAAS,QAAQ,EAAE,EAAQ,UAAU,CAAC,CAAE,CAC9D,OAAQ,MACV,EACF,CAEO,eAAe,IACpB,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,CAAA,EAAG,EAAS,qBAAqB,CAAC,CAAE,CACvE,OAAQ,KACV,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAQ,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,EAAC,CAAC,CACnD,OAAM,AAAI,MAAM,GAAO,QAAU,mCACnC,CAEA,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,OAAO,EAAK,OAAO,EAAI,CACzB,CAEO,eAAe,EACpB,CAAe,EAEf,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAClC,CAAA,EAAG,EAAS,QAAQ,EAAE,EAAQ,cAAc,CAAC,CAC7C,CACE,OAAQ,KACV,GAGF,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAQ,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,EAAC,CAAC,CACnD,OAAM,AAAI,MAAM,GAAO,QAAU,qCACnC,CAEA,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,OAAO,EAAK,OAAO,EAAI,CACzB,CAEO,eAAe,EACpB,CAAe,EAEf,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAClC,CAAA,EAAG,EAAS,QAAQ,EAAE,EAAQ,kBAAkB,CAAC,CACjD,CACE,OAAQ,KACV,GAGF,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAQ,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,EAAC,CAAC,CACnD,OAAM,AAAI,MAAM,GAAO,QAAU,mCACnC,CAEA,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,OAAO,EAAK,OAAO,EAAI,CACzB,CAoBO,eAAe,EACpB,CAAe,EAEf,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAClC,CAAA,EAAG,EAAS,QAAQ,EAAE,EAAQ,YAAY,CAAC,CAC3C,CACE,OAAQ,QACV,GAGF,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAQ,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAO,AAAD,GAAE,CAAC,CACnD,OAAM,AAAI,MAAM,GAAO,QAAU,uCACnC,CAEA,OAAO,EAAS,IAAI,EACtB,CAEO,eAAe,IACpB,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,CAAA,EAAG,EAAS,mBAAmB,CAAC,CAAE,CACrE,OAAQ,KACV,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAQ,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,EAAC,CAAC,CACnD,OAAM,AAAI,MAAM,GAAO,QAAU,oCACnC,CAEA,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,OAAO,EAAK,OAAO,EAAI,CACzB"}