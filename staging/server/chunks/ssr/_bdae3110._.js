module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},47914,a=>{"use strict";var b=a.i(87924),c=a.i(40695),d=a.i(3130),e=a.i(49118),f=a.i(72131);function g(){let[a,g]=(0,f.useState)([]),[h,i]=(0,f.useState)(!0),[j,k]=(0,f.useState)(!1),[l,m]=(0,f.useState)(null),n=async()=>{try{i(!0),m(null);let a=await (0,e.listNotifications)();g(a)}catch(a){console.error(a),m("Failed to load notifications")}finally{i(!1)}};(0,f.useEffect)(()=>{n()},[]);let o=async(a,b)=>{try{k(!0),b?await (0,e.markAsRead)(a):await (0,e.markAsUnread)(a),g(c=>c.map(c=>c.id===a?{...c,is_read:b}:c))}catch(a){console.error(a),m("Failed to update notification")}finally{k(!1)}},p=async()=>{try{k(!0),await (0,e.markAllAsRead)(),g(a=>a.map(a=>({...a,is_read:!0})))}catch(a){console.error(a),m("Failed to mark all as read")}finally{k(!1)}},q=a.filter(a=>!a.is_read).length;return(0,b.jsxs)("div",{className:"container mx-auto p-8 max-w-3xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Notifications"}),(0,b.jsx)(c.Button,{variant:"outline",disabled:j||0===q,onClick:p,children:"Mark all as read"})]}),h?(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"py-8 text-center",children:"Loading..."})}):l?(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"py-8 text-center text-red-600",children:l})}):0===a.length?(0,b.jsx)("p",{className:"text-muted-foreground",children:"No notifications."}):(0,b.jsx)("ul",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("li",{className:`border rounded p-4 flex items-start gap-3 ${a.is_read?"bg-white":"bg-yellow-50"}`,children:[(0,b.jsx)("input",{type:"checkbox",className:"mt-1 h-4 w-4",checked:a.is_read,onChange:b=>o(a.id,b.target.checked),"aria-label":a.is_read?"Mark as unread":"Mark as read",disabled:j}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("h2",{className:`font-semibold ${a.is_read?"":"text-yellow-900"}`,children:a.title}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(a.created_at).toLocaleString()})]}),a.message&&(0,b.jsx)("p",{className:"mt-2 text-sm",children:a.message}),(0,b.jsx)("div",{className:"mt-2",children:a.is_read?(0,b.jsx)(c.Button,{size:"sm",variant:"secondary",onClick:()=>o(a.id,!1),disabled:j,children:"Mark as unread"}):(0,b.jsx)(c.Button,{size:"sm",onClick:()=>o(a.id,!0),disabled:j,children:"Mark as read"})})]})]},a.id))})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=_bdae3110._.js.map