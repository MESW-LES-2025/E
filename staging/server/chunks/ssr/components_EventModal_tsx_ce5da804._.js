module.exports=[17199,54161,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(47033),f=a.i(40695),g=a.i(11011),h=a.i(187),i=a.i(97895);let j=(0,h.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function k({className:a,variant:c,asChild:d=!1,...e}){let f=d?g.Slot:"span";return(0,b.jsx)(f,{"data-slot":"badge",className:(0,i.cn)(j({variant:c}),a),...e})}a.s(["Badge",()=>k],54161);var l=a.i(5522),m=a.i(7379),n=a.i(16474),o=a.i(69337),p=a.i(60999),q=a.i(36099),r=a.i(50944);let s={SOCIAL:"bg-blue-500 text-white",ACADEMIC:"bg-green-500 text-white",TRAVEL:"bg-yellow-500 text-black",SPORTS:"bg-red-500 text-white",CULTURAL:"bg-purple-500 text-white",VOLUNTEERING:"bg-teal-500 text-white",NIGHTLIFE:"bg-pink-500 text-white"},t={Active:"bg-green-500 text-white",Cancelled:"bg-red-500 text-white"};function u({id:a,onClose:g,onInterestChange:h,onParticipationChange:i}){let j=(0,r.useRouter)(),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(null),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(null),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)(null),[ak,al]=(0,c.useState)(()=>!1),[am,an]=(0,c.useState)(!1),[ao,ap]=(0,c.useState)({name:"",date:"",location:"",description:"",capacity:""}),aq=async()=>{if(!u)return;let a={name:ao.name,date:ao.date,location:ao.location,description:ao.description,capacity:""===ao.capacity||"0"===ao.capacity?null:Number(ao.capacity)};try{let b=await (0,e.fetchWithAuth)(`https://APimenta4.pythonanywhere.com/api/events/${u.id}/`,{method:"PATCH",body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to update event");let c=await b.json();v(c),an(!1)}catch(a){alert(a instanceof Error?a.message:"Failed to update event")}},[ar,as]=(0,c.useState)({});(0,c.useEffect)(()=>{if(!a)return;let b=!1,c="https://APimenta4.pythonanywhere.com/api";(async()=>{try{let d;if(ak)try{d=await (0,e.fetchWithAuth)(`${c}/events/${a}/`),(401===d.status||403===d.status)&&(localStorage.removeItem("auth_tokens"),al(!1),d=await fetch(`${c}/events/${a}/`))}catch{localStorage.removeItem("auth_tokens"),al(!1),d=await fetch(`${c}/events/${a}/`)}else d=await fetch(`${c}/events/${a}/`);if(!d.ok)throw Error(`Status ${d.status}`);let f=await d.json();b||v(f)}catch(a){b||z(a instanceof Error?a.message:"Failed to load event")}finally{b||x(!1)}})();let d=a=>{"Escape"===a.key&&g()};return window.addEventListener("keydown",d),()=>{b=!0,window.removeEventListener("keydown",d)}},[a,g,ak]),(0,c.useEffect)(()=>{ak&&((0,e.fetchWithAuth)("https://APimenta4.pythonanywhere.com/api/auth/users/me/").then(a=>{if(!a.ok)throw(401===a.status||403===a.status)&&(localStorage.removeItem("auth_tokens"),al(!1)),Error(`Status ${a.status}`);return a.json()}).then(a=>{ab(a)}).catch(()=>{}),(0,q.getProfile)().then(a=>{a&&aj(a.role)}).catch(()=>{}))},[ak]),(0,c.useEffect)(()=>{u?.organization_id&&(0,p.getOrganization)(u.organization_id).then(a=>{ak&&aa&&"owner_id"in a&&ad(a.owner_id===aa.id),af(a.is_following||!1)}).catch(()=>{})},[u?.organization_id,ak,aa]),(0,c.useEffect)(()=>{A&&u?.id&&ak&&(F(!0),H(null),(0,o.getEventParticipants)(u.id).then(a=>{if(Array.isArray(a))D(a);else throw Error("Failed to load participants.")}).catch(a=>{H(a.message||"Could not fetch participant information.")}).finally(()=>F(!1)))},[A,u?.id,ak]),(0,c.useEffect)(()=>{I&&u?.id&&ak&&aa&&("ORGANIZER"===aa.role||ac)&&(N(!0),P(null),(0,o.getEventInterestedUsers)(u.id).then(a=>{if(Array.isArray(a))L(a);else throw Error("Failed to load interested users.")}).catch(a=>{P(a.message||"Could not fetch interested users information.")}).finally(()=>N(!1)))},[I,u?.id,ak]);let at=async()=>{if(!u)return;if(!ak){T("participate"),R(!0);return}let a=u.is_participating?"DELETE":"POST";try{let b=await (0,e.fetchWithAuth)(`https://APimenta4.pythonanywhere.com/api/events/${u.id}/participate/`,{method:a}),c=await b.json();b.ok&&(v(a=>a?{...a,participant_count:c.participant_count,is_participating:c.is_participating,is_full:c.is_full}:a),i&&i(u.id,c.is_participating,c.participant_count,c.is_full))}catch{}},au=async()=>{if(!u)return;if(!ak){T("interested"),R(!0);return}let a=u.is_interested?"DELETE":"POST";try{let b=await (0,e.fetchWithAuth)(`https://APimenta4.pythonanywhere.com/api/events/${u.id}/interested/`,{method:a}),c=await b.json();b.ok&&(v(a=>a?{...a,interest_count:c.interest_count,is_interested:c.is_interested}:a),h&&h(u.id,c.is_interested,c.interest_count))}catch{}},av=async a=>{a.preventDefault(),Z(!0),_(null);try{await (0,e.login)(U,W),al(!0);try{let a=await (0,q.getProfile)();ab(a)}catch{}if(T(null),R(!1),V(""),X(""),!u)return;let a="https://APimenta4.pythonanywhere.com/api";if("participate"===S){let b=u.is_participating?"DELETE":"POST";try{let c=await (0,e.fetchWithAuth)(`${a}/events/${u.id}/participate/`,{method:b}),d=await c.json();c.ok&&(v(a=>a?{...a,participant_count:d.participant_count,is_participating:d.is_participating,is_full:d.is_full}:a),i&&i(u.id,d.is_participating,d.participant_count,d.is_full))}catch{}}else if("interested"===S){let b=u.is_interested?"DELETE":"POST";try{let c=await (0,e.fetchWithAuth)(`${a}/events/${u.id}/interested/`,{method:b}),d=await c.json();c.ok&&(v(a=>a?{...a,interest_count:d.interest_count,is_interested:d.is_interested}:a),h&&h(u.id,d.is_interested,d.interest_count))}catch{}}}catch(a){_(a instanceof Error?a.message:"Login failed")}finally{Z(!1)}};if(!a)return null;let aw=async()=>{if(u&&window.confirm("Are you sure you want to cancel this event?"))try{let a=await (0,o.cancelEventRequest)(u.id);if(!a.ok)throw Error("Failed to cancel event");let b=await a.json();v(b)}catch{alert("Could not cancel event")}},ax=async()=>{if(u&&window.confirm("Do you want to reactivate this event?"))try{let a=await (0,o.uncancelEventRequest)(u.id);if(!a.ok)throw Error("Failed to reactivate the event");let b=await a.json();v(b)}catch{alert("Could not reactivate the event")}},ay=async()=>{if(u?.organization_id){if(!(0,e.isAuthenticated)()){sessionStorage.setItem("login_redirect",window.location.pathname),j.push("/profile/login");return}try{ah(!0),ae?(await (0,p.unfollowOrganization)(u.organization_id),af(!1)):(await (0,p.followOrganization)(u.organization_id),af(!0))}catch(a){console.error("Failed to toggle follow:",a),alert(a instanceof Error?a.message:"Failed to update follow status. Please try again.")}finally{ah(!1)}}};return(0,b.jsxs)(b.Fragment,{children:[Q&&(0,b.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80",role:"dialog","aria-modal":"true",onClick:()=>{R(!1),T(null),_(null)},children:(0,b.jsxs)("div",{className:"bg-white rounded-lg max-w-sm w-full mx-4 p-6 shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Sign in"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Please sign in to"," ","participate"===S?"participate in":"mark interest in"," ","this event."]}),(0,b.jsxs)("form",{onSubmit:av,className:"space-y-3",noValidate:!0,children:[(0,b.jsxs)(n.Field,{children:[(0,b.jsx)(n.FieldLabel,{htmlFor:"login-username",children:"Username"}),(0,b.jsx)(n.FieldContent,{children:(0,b.jsx)(l.Input,{id:"login-username",value:U,onChange:a=>V(a.target.value),autoComplete:"username",required:!0})})]}),(0,b.jsxs)(n.Field,{children:[(0,b.jsx)(n.FieldLabel,{htmlFor:"login-password",children:"Password"}),(0,b.jsx)(n.FieldContent,{children:(0,b.jsx)(l.Input,{id:"login-password",type:"password",value:W,onChange:a=>X(a.target.value),autoComplete:"current-password",required:!0})})]}),$&&(0,b.jsx)(n.FieldError,{children:$}),(0,b.jsx)(f.Button,{type:"submit",disabled:Y,className:"w-full",children:Y?"Entering...":"Enter"})]}),(0,b.jsxs)("div",{className:"mt-4 text-sm text-gray-600 text-center",children:[(0,b.jsx)("span",{children:"Don't have an account? "}),(0,b.jsx)(d.default,{href:"/profile/register",className:"text-blue-600 hover:underline",onClick:()=>{R(!1),T(null)},children:"Register now"})]}),(0,b.jsx)("div",{className:"my-4",children:(0,b.jsx)(m.Separator,{})}),(0,b.jsx)("div",{className:"mt-2 text-md text-center",children:(0,b.jsx)("button",{type:"button",onClick:()=>{R(!1),T(null),_(null)},className:"text-blue-600 hover:underline",children:"Cancel"})})]})}),(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",role:"dialog","aria-modal":"true",onClick:g,children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl max-w-2xl w-full mx-4 p-10 relative shadow-2xl max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{"aria-label":"Close modal",onClick:g,className:"absolute top-8 right-8 text-gray-400 hover:text-gray-600 text-3xl leading-none",children:"Ã—"}),(0,b.jsxs)("div",{className:"pr-8",children:[w&&(0,b.jsx)("p",{className:"text-lg",children:"Loading..."}),y&&(0,b.jsxs)("p",{className:"text-red-600 text-lg",children:["Error: ",y]}),!w&&!y&&u&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:`text-3xl font-bold ${u.status?"mb-2":"mb-8"}`,children:u.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[u.category&&(0,b.jsx)(k,{className:s[u.category]||"bg-gray-500 text-white",children:u.category}),u.status&&(0,b.jsx)(k,{className:t[u.status]||"bg-gray-500 text-white",children:u.status})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:"Date"}),(0,b.jsx)("div",{className:"text-base text-gray-800",children:u.date?new Date(u.date).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"})]}),u.location&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:"Location"}),(0,b.jsx)("div",{className:"text-base text-gray-800",children:u.location})]}),u.organization_name&&u.organization_id&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:"Organization"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(d.default,{href:`/organizations/detail?id=${u.organization_id}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg text-blue-700 font-medium transition-colors duration-200 group flex-1",onClick:()=>{sessionStorage.setItem("org_detail_referrer",window.location.pathname+window.location.search)},children:[(0,b.jsx)("span",{className:"text-lg",children:"ðŸ¢"}),(0,b.jsx)("span",{className:"group-hover:underline",children:u.organization_name}),(0,b.jsx)("span",{className:"text-blue-500 group-hover:translate-x-1 transition-transform duration-200",children:"â†’"})]}),"ATTENDEE"===ai&&(0,b.jsxs)(f.Button,{variant:ae?"outline":"default",size:"sm",onClick:ay,disabled:ag,className:"whitespace-nowrap group relative",children:[(0,b.jsx)("span",{className:ae?"group-hover:hidden":"",children:ag?"Loading...":ae?"Following":"Follow"}),ae&&!ag&&(0,b.jsx)("span",{className:"hidden group-hover:inline",children:"Unfollow"})]})]})]}),u.organization_name&&(u.created_by||u.organizer_name)&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:"Created by"}),(0,b.jsx)("div",{className:"text-base text-gray-800",children:u.created_by||u.organizer_name})]}),u.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("div",{className:"text-base text-gray-800 leading-relaxed whitespace-pre-wrap",children:u.description})]})]}),aa?.role==="ORGANIZER"&&(aa.id===u.organizer||ac)&&(0,b.jsxs)("div",{className:"border-t border-gray-200 mt-6 pt-6",children:[(0,b.jsxs)("button",{onClick:()=>B(!A),className:"w-full flex justify-between items-center text-left text-lg font-semibold text-gray-800 hover:text-gray-900","aria-expanded":A,children:[(0,b.jsx)("span",{children:"Participants"}),(0,b.jsx)("span",{className:`transform transition-transform duration-200 ${A?"rotate-180":""}`,children:"â–¼"})]}),A&&(0,b.jsxs)("div",{className:"mt-4 text-gray-700",children:[(0,b.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[(0,b.jsx)("span",{className:"font-semibold",children:u.participant_count}),null!==u.capacity&&void 0!==u.capacity&&u.capacity>0?(0,b.jsxs)("span",{children:[" / ",u.capacity]}):""," ",null===u.capacity||0===u.capacity?" (Unlimited capacity)":""]}),E&&(0,b.jsx)("p",{children:"Loading participants..."}),G&&(0,b.jsx)("p",{className:"text-red-500",children:G}),!E&&!G&&(C.length>0?(0,b.jsx)("ul",{className:"space-y-2",children:C.map(a=>(0,b.jsxs)("li",{className:"text-sm",children:[a.first_name," ",a.last_name," (@",a.username,")"]},a.id))}):(0,b.jsx)("p",{children:"No participants have registered yet."}))]})]}),aa?.role==="ORGANIZER"&&(aa.id===u.organizer||ac)&&(0,b.jsxs)("div",{className:"border-t border-gray-200 mt-6 pt-6",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>J(!I),className:"w-full flex justify-between items-center text-left text-lg font-semibold text-gray-800 hover:text-gray-900","aria-expanded":I,children:[(0,b.jsx)("span",{children:"Interested Users"}),(0,b.jsx)("span",{className:`transform transition-transform duration-200 ${I?"rotate-180":""}`,children:"â–¼"})]}),I&&(0,b.jsxs)("div",{className:"mt-4 text-gray-700",children:[(0,b.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[(0,b.jsx)("span",{className:"font-semibold",children:u.interest_count||0})," ","user",1!==u.interest_count?"s":""," marked as interested"]}),M&&(0,b.jsx)("p",{children:"Loading interested users..."}),O&&(0,b.jsx)("p",{className:"text-red-500",children:O}),!M&&!O&&(K.length>0?(0,b.jsx)("ul",{className:"space-y-2",children:K.map(a=>(0,b.jsxs)("li",{className:"text-sm",children:[a.first_name," ",a.last_name," (@",a.username,")"]},a.id))}):(0,b.jsx)("p",{children:"No users have marked this event as interested yet."}))]})]}),(!aa||aa?.role==="ATTENDEE")&&"Canceled"!==u.status&&(0,b.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsxs)("span",{className:"text-gray-600",children:["Participants: ",u?.participant_count,u?.capacity!==null&&u?.capacity!==void 0&&u?.capacity>0&&(0,b.jsxs)("span",{children:["/",u.capacity]}),(u?.capacity===null||u?.capacity===0)&&(0,b.jsx)("span",{children:" (Unlimited)"})]}),u?.interest_count!==void 0&&u?.interest_count>0&&(0,b.jsxs)("span",{className:"text-gray-600",children:["â€¢ â¤ï¸ ",u.interest_count," interested"]}),u?.is_full&&(0,b.jsx)("span",{className:"px-2 py-1 text-xs font-semibold text-white bg-red-500 rounded-full",children:"Event Full"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(f.Button,{onClick:at,disabled:u?.is_full&&!u?.is_participating&&ak,className:"flex-1 font-bold py-4 rounded-xl "+(u?.is_participating?"bg-red-600 hover:bg-red-500 text-white":u?.is_full&&ak?"bg-gray-400 cursor-not-allowed text-white":"bg-gray-800 hover:bg-gray-600 text-white"),children:u?.is_participating?"Cancel Participation":u?.is_full&&ak?"Event Full":"Participate"}),(0,b.jsx)(f.Button,{onClick:au,className:`flex-1 font-bold py-4 rounded-xl ${u?.is_interested?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,children:u?.is_interested?"Cancel Interest":"Interested"})]})]}),ak&&(0,b.jsx)(b.Fragment,{children:aa?.role==="ORGANIZER"&&(aa.id===u.organizer||ac)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 flex gap-4",children:[(0,b.jsx)(f.Button,{onClick:()=>{u&&(ap({name:u.name||"",date:u.date?.slice(0,16)||"",location:u.location||"",description:u.description||"",capacity:u.capacity?.toString()??""}),an(!0))},className:"flex-1 w-full bg-gray-800 hover:bg-gray-500 text-white font-bold py-4 rounded-xl",children:"Edit"}),"Canceled"===u.status?(0,b.jsx)(f.Button,{onClick:ax,className:"flex-1 w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 rounded-xl",children:"Reactivate Event"}):(0,b.jsx)(f.Button,{onClick:aw,className:"flex-1 w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl",children:"Cancel Event"})]}),am&&(0,b.jsx)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/70",role:"dialog","aria-modal":"true",onClick:()=>an(!1),children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl max-w-xl w-full p-8 shadow-2xl overflow-y-auto max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Edit Event"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name"," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:ao.name,onChange:a=>ap(b=>({...b,name:a.target.value})),className:`w-full border rounded-md p-2 ${ar.name?"border-red-500":"border-gray-300"}`}),ar.name&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ar.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date"," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"datetime-local",value:ao.date,onChange:a=>ap(b=>({...b,date:a.target.value})),className:`w-full border rounded-md p-2 ${ar.date?"border-red-500":"border-gray-300"}`}),ar.date&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ar.date})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location"," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:ao.location,onChange:a=>ap(b=>({...b,location:a.target.value})),className:`w-full border rounded-md p-2 ${ar.location?"border-red-500":"border-gray-300"}`}),ar.location&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ar.location})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description"," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{value:ao.description,onChange:a=>ap(b=>({...b,description:a.target.value})),className:`w-full border rounded-md p-2 h-24 resize-none ${ar.description?"border-red-500":"border-gray-300"}`}),ar.description&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ar.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Capacity:"," ","0"===ao.capacity||""===ao.capacity?"Unlimited":ao.capacity]}),(0,b.jsx)("input",{type:"range",min:0,max:500,value:""===ao.capacity?0:Number(ao.capacity),onChange:a=>ap(b=>({...b,capacity:a.target.value})),className:`w-full h-2 bg-gray-200 rounded-lg accent-blue-600 ${ar.capacity?"border-red-500":""}`}),ar.capacity&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ar.capacity})]})]}),(0,b.jsxs)("div",{className:"mt-6 flex gap-4",children:[(0,b.jsx)(f.Button,{onClick:()=>{let a={},b=!1;ao.name.trim()||(a.name="Name is required",b=!0),ao.date.trim()?new Date(ao.date)<new Date&&(a.date="Date cannot be in the past",b=!0):(a.date="Date is required",b=!0),ao.location.trim()||(a.location="Location is required",b=!0),ao.description.trim()||(a.description="Description is required",b=!0);let c=u?.participant_count,d=Number(ao.capacity||0);d<0?(a.capacity="Capacity cannot be negative",b=!0):"number"==typeof c&&d>0&&d<c&&(a.capacity=`Capacity cannot be less than current participants (${c})`,b=!0),as(a),b||aq()},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg",children:"Save"}),(0,b.jsx)(f.Button,{onClick:()=>an(!1),variant:"outline",className:"flex-1 py-3 rounded-lg",children:"Cancel"})]})]})})]})})]})]})]})})]})}a.s(["default",()=>u],17199)}];

//# sourceMappingURL=components_EventModal_tsx_ce5da804._.js.map