(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88143,(e,t,r)=>{"use strict";function i({widthInt:e,heightInt:t,blurWidth:r,blurHeight:i,blurDataURL:n,objectFit:a}){let s=r?40*r:e,l=i?40*i:t,o=s&&l?`viewBox='0 0 ${s} ${l}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${o}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${o?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${n}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},87690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={VALID_LOADERS:function(){return a},imageConfigDefault:function(){return s}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=["default","imgix","cloudinary","akamai","custom"],s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return o}}),e.r(33525);let i=e.r(88143),n=e.r(87690),a=["-moz-initial","fill","none","scale-down",void 0];function s(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o({src:e,sizes:t,unoptimized:r=!1,priority:o=!1,preload:d=!1,loading:c,className:u,quality:f,width:m,height:h,fill:g=!1,style:p,overrideSrc:x,onLoad:j,onLoadingComplete:b,placeholder:v="empty",blurDataURL:_,fetchPriority:y,decoding:w="async",layout:C,objectFit:S,objectPosition:N,lazyBoundary:E,lazyRoot:O,...P},z){var F;let R,I,k,{imgConf:M,showAltText:T,blurComplete:D,defaultLoader:$}=z,A=M||n.imageConfigDefault;if("allSizes"in A)R=A;else{let e=[...A.deviceSizes,...A.imageSizes].sort((e,t)=>e-t),t=A.deviceSizes.sort((e,t)=>e-t),r=A.qualities?.sort((e,t)=>e-t);R={...A,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===$)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let L=P.loader||$;delete P.loader,delete P.srcSet;let B="__next_img_default"in L;if(B){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=L;L=t=>{let{config:r,...i}=t;return e(i)}}if(C){"fill"===C&&(g=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(p={...p,...e});let r={responsive:"100vw",fill:"100vw"}[C];r&&!t&&(t=r)}let U="",G=l(m),q=l(h);if((F=e)&&"object"==typeof F&&(s(F)||void 0!==F.src)){let t=s(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(I=t.blurWidth,k=t.blurHeight,_=_||t.blurDataURL,U=t.src,!g)if(G||q){if(G&&!q){let e=G/t.width;q=Math.round(t.height*e)}else if(!G&&q){let e=q/t.height;G=Math.round(t.width*e)}}else G=t.width,q=t.height}let H=!o&&!d&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:U)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,H=!1),R.unoptimized&&(r=!0),B&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let W=l(f),V=Object.assign(g?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:S,objectPosition:N}:{},T?{}:{color:"transparent"},p),X=D||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,i.getImageBlurSvg)({widthInt:G,heightInt:q,blurWidth:I,blurHeight:k,blurDataURL:_||"",objectFit:V.objectFit})}")`:`url("${v}")`,Y=a.includes(V.objectFit)?"fill"===V.objectFit?"100% 100%":"cover":V.objectFit,J=X?{backgroundSize:Y,backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},K=function({config:e,src:t,unoptimized:r,width:i,quality:n,sizes:a,loader:s}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:l,kind:o}=function({deviceSizes:e,allSizes:t},r,i){if(i){let r=/(^|\s)(1?\d?\d)vw/g,n=[];for(let e;e=r.exec(i);)n.push(parseInt(e[2]));if(n.length){let r=.01*Math.min(...n);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,i,a),d=l.length-1;return{sizes:a||"w"!==o?a:"100vw",srcSet:l.map((r,i)=>`${s({config:e,src:t,quality:n,width:r})} ${"w"===o?r:i+1}${o}`).join(", "),src:s({config:e,src:t,quality:n,width:l[d]})}}({config:R,src:e,unoptimized:r,width:G,quality:W,sizes:t,loader:L}),Q=H?"lazy":c;return{props:{...P,loading:Q,fetchPriority:y,width:G,height:q,decoding:w,className:u,style:{...V,...J},sizes:K.sizes,srcSet:K.srcSet,src:x||K.src},meta:{unoptimized:r,preload:d||o,placeholder:v,fill:g}}}},98879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let i=e.r(71645),n="undefined"==typeof window,a=n?()=>{}:i.useLayoutEffect,s=n?()=>{}:i.useEffect;function l(e){let{headManager:t,reduceComponentsToState:r}=e;function l(){if(t&&t.mountedInstances){let e=i.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return n&&(t?.mountedInstances?.add(e.children),l()),a(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),a(()=>(t&&(t._pendingUpdate=l),()=>{t&&(t._pendingUpdate=l)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return g},defaultHead:function(){return u}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=e.r(55682),s=e.r(90809),l=e.r(43476),o=s._(e.r(71645)),d=a._(e.r(98879)),c=e.r(42732);function u(){return[(0,l.jsx)("meta",{charSet:"utf-8"},"charset"),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let m=["name","httpEquiv","charSet","itemProp"];function h(e){let t,r,i,n;return e.reduce(f,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,i=new Set,n={},e=>{let a=!0,s=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){s=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?a=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?a=!1:r.add(e.type);break;case"meta":for(let t=0,r=m.length;t<r;t++){let r=m[t];if(e.props.hasOwnProperty(r))if("charSet"===r)i.has(r)?a=!1:i.add(r);else{let t=e.props[r],i=n[r]||new Set;("name"!==r||!s)&&i.has(t)?a=!1:(i.add(t),n[r]=i)}}}return a})).reverse().map((e,t)=>{let r=e.key||t;return o.default.cloneElement(e,{key:r})})}let g=function({children:e}){let t=(0,o.useContext)(c.HeadManagerContext);return(0,l.jsx)(d.default,{reduceComponentsToState:h,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return a}});let i=e.r(55682)._(e.r(71645)),n=e.r(87690),a=i.default.createContext(n.imageConfigDefault)},65856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return i}});let i=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,r)=>{"use strict";function i(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return i}})},1948,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let i=e.r(70965);function n({config:e,src:t,width:r,quality:n}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let a=(0,i.findClosestQuality)(n,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${a}${t.startsWith("/_next/static/media/"),""}`}n.__next_img_default=!0;let a=n},5500,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return v}});let i=e.r(55682),n=e.r(90809),a=e.r(43476),s=n._(e.r(71645)),l=i._(e.r(74080)),o=i._(e.r(25633)),d=e.r(8927),c=e.r(87690),u=e.r(18556);e.r(33525);let f=e.r(65856),m=i._(e.r(1948)),h=e.r(18581),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/E/staging/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function p(e,t,r,i,n,a,s){let l=e?.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&n(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let i=!1,n=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>i,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{i=!0,t.preventDefault()},stopPropagation:()=>{n=!0,t.stopPropagation()}})}i?.current&&i.current(e)}}))}function x(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let j=(0,s.forwardRef)(({src:e,srcSet:t,sizes:r,height:i,width:n,decoding:l,className:o,style:d,fetchPriority:c,placeholder:u,loading:f,unoptimized:m,fill:g,onLoadRef:j,onLoadingCompleteRef:b,setBlurComplete:v,setShowAltText:_,sizesInput:y,onLoad:w,onError:C,...S},N)=>{let E=(0,s.useCallback)(e=>{e&&(C&&(e.src=e.src),e.complete&&p(e,u,j,b,v,m,y))},[e,u,j,b,v,C,m,y]),O=(0,h.useMergedRef)(N,E);return(0,a.jsx)("img",{...S,...x(c),loading:f,width:n,height:i,decoding:l,"data-nimg":g?"fill":"1",className:o,style:d,sizes:r,srcSet:t,src:e,ref:O,onLoad:e=>{p(e.currentTarget,u,j,b,v,m,y)},onError:e=>{_(!0),"empty"!==u&&v(!0),C&&C(e)}})});function b({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...x(t.fetchPriority)};return e&&l.default.preload?(l.default.preload(t.src,r),null):(0,a.jsx)(o.default,{children:(0,a.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let v=(0,s.forwardRef)((e,t)=>{let r=(0,s.useContext)(f.RouterContext),i=(0,s.useContext)(u.ImageConfigContext),n=(0,s.useMemo)(()=>{let e=g||i||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),n=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:n,localPatterns:"undefined"==typeof window?i?.localPatterns:e.localPatterns}},[i]),{onLoad:l,onLoadingComplete:o}=e,h=(0,s.useRef)(l);(0,s.useEffect)(()=>{h.current=l},[l]);let p=(0,s.useRef)(o);(0,s.useEffect)(()=>{p.current=o},[o]);let[x,v]=(0,s.useState)(!1),[_,y]=(0,s.useState)(!1),{props:w,meta:C}=(0,d.getImgProps)(e,{defaultLoader:m.default,imgConf:n,blurComplete:x,showAltText:_});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{...w,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:h,onLoadingCompleteRef:p,setBlurComplete:v,setShowAltText:y,sizesInput:e.sizes,ref:t}),C.preload?(0,a.jsx)(b,{isAppRouter:!r,imgAttributes:w}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return c},getImageProps:function(){return d}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=e.r(55682),s=e.r(8927),l=e.r(5500),o=a._(e.r(1948));function d(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/E/staging/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=l.Image},57688,(e,t,r)=>{t.exports=e.r(94909)},66920,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(18566),n=e.i(22016),a=e.i(57688),s=e.i(18109),l=e.i(38036),o=e.i(79879),d=e.i(67881),c=e.i(23750),u=e.i(13626),f=e.i(70065),m=e.i(86530);function h(){var e;let h=(0,i.useRouter)(),g=(0,i.useSearchParams)(),p=(0,i.usePathname)(),x=Number(g.get("id")),[j,b]=(0,r.useState)(null),[v,_]=(0,r.useState)([]),[y,w]=(0,r.useState)(!0),[C,S]=(0,r.useState)(!0),[N,E]=(0,r.useState)(null),[O,P]=(0,r.useState)(!1),[z,F]=(0,r.useState)(!1),[R,I]=(0,r.useState)(!1),[k,M]=(0,r.useState)(null),[T,D]=(0,r.useState)(!1),[$,A]=(0,r.useState)(null),[L,B]=(0,r.useState)([]),[U,G]=(0,r.useState)(!1),[q,H]=(0,r.useState)(""),[W,V]=(0,r.useState)([]),[X,Y]=(0,r.useState)(!1),[J,K]=(0,r.useState)(null),[Q,Z]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(!1),[er,ei]=(0,r.useState)(null);(0,r.useEffect)(()=>{P(!0);let e=sessionStorage.getItem("org_detail_referrer");e&&M(e),(0,l.isAuthenticated)()&&(0,o.getProfile)().then(e=>{e&&ei(e.role)}).catch(()=>{})},[]),(0,r.useEffect)(()=>{let e=sessionStorage.getItem("org_detail_referrer");e&&e!==k&&M(e)},[p,k]),(0,r.useEffect)(()=>{if(!x||isNaN(x)){E("Invalid organization ID"),w(!1);return}(async()=>{try{w(!0),E(null);let e=await (0,s.getOrganization)(x);b(e),F("owner_id"in e),I(e.is_collaborator||!1),Z(e.is_following||!1)}catch(e){E(e instanceof Error?e.message:"Failed to load organization")}finally{w(!1)}})()},[x]);let en=(0,r.useCallback)(async()=>{if(j)try{S(!0);let e=await (0,s.getOrganizationEvents)(x);_(e)}catch(e){console.error("Failed to load events:",e)}finally{S(!1)}},[j,x]);(0,r.useEffect)(()=>{en()},[en]),(0,r.useEffect)(()=>{j&&z&&(async()=>{try{G(!0);let e=await (0,s.getCollaborators)(x);B(e)}catch(e){console.error("Failed to load collaborators:",e)}finally{G(!1)}})()},[j,x,z]),(0,r.useEffect)(()=>{if(!q||q.length<2)return void V([]);let e=setTimeout(async()=>{try{Y(!0),K(null);let e=await (0,s.searchUsers)(q),t=j&&"owner_id"in j?j.owner_id:null,r=e.filter(e=>e.id!==t&&!L.some(t=>t.id===e.id));V(r)}catch(e){console.error("Failed to search users:",e),K(e instanceof Error?e.message:"Failed to search users"),V([])}finally{Y(!1)}},300);return()=>clearTimeout(e)},[q,j,L]);let ea=async e=>{try{K(null),await (0,s.addCollaborator)(x,e.id);let t=await (0,s.getCollaborators)(x);B(t),H(""),V([])}catch(e){K(e instanceof Error?e.message:"Failed to add collaborator")}},es=async e=>{try{K(null),await (0,s.removeCollaborator)(x,e);let t=await (0,s.getCollaborators)(x);B(t)}catch(e){K(e instanceof Error?e.message:"Failed to remove collaborator")}},el=async()=>{if(!(0,l.isAuthenticated)()){sessionStorage.setItem("login_redirect",window.location.pathname+window.location.search),h.push("/profile/login");return}try{et(!0),Q?(await (0,s.unfollowOrganization)(x),Z(!1),j&&b({...j,is_following:!1})):(await (0,s.followOrganization)(x),Z(!0),j&&b({...j,is_following:!0}))}catch(e){console.error("Failed to toggle follow:",e),alert(e instanceof Error?e.message:"Failed to update follow status. Please try again.")}finally{et(!1)}};return!O||y?(0,t.jsx)("div",{className:"container mx-auto p-8 max-w-4xl",children:(0,t.jsx)("p",{children:"Loading organization..."})}):N||!j?(0,t.jsx)("div",{className:"container mx-auto p-8 max-w-4xl",children:(0,t.jsxs)(f.Card,{children:[(0,t.jsxs)(f.CardHeader,{children:[(0,t.jsx)(f.CardTitle,{children:"Error"}),(0,t.jsx)(f.CardDescription,{children:N||"Organization not found"})]}),(0,t.jsx)(f.CardFooter,{children:(0,t.jsx)(d.Button,{variant:"outline",onClick:()=>{let e=sessionStorage.getItem("org_detail_referrer");e?h.push(e):h.push("/organizations")},children:"Back to Organizations"})})]})}):(0,t.jsxs)("div",{className:"container mx-auto p-8 max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsx)(d.Button,{variant:"outline",onClick:()=>{k?(sessionStorage.removeItem("org_detail_referrer"),h.push(k)):h.back()},children:"â† Back"}),(0,t.jsxs)("div",{className:"flex gap-2",children:["ATTENDEE"===er&&(0,t.jsxs)(d.Button,{variant:Q?"outline":"default",onClick:el,disabled:ee,className:"group relative",children:[(0,t.jsx)("span",{className:Q?"group-hover:hidden":"",children:ee?"Loading...":Q?"Following":"Follow Organization"}),Q&&!ee&&(0,t.jsx)("span",{className:"hidden group-hover:inline",children:"Unfollow"})]}),z&&(0,t.jsx)(d.Button,{asChild:!0,children:(0,t.jsx)(n.default,{href:`/organizations/edit?id=${x}`,onClick:()=>{k&&sessionStorage.setItem("org_edit_referrer",k)},children:"Edit Organization"})})]})]}),(0,t.jsxs)(f.Card,{className:"mb-6",children:[(0,t.jsx)(f.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.CardTitle,{className:"text-3xl",children:j.name}),(0,t.jsxs)(f.CardDescription,{className:"mt-2",children:[(e=j.organization_type)?({COMPANY:"Company",NON_PROFIT:"Non-profit",COMMUNITY:"Community",EDUCATIONAL:"Educational",GOVERNMENT:"Government",OTHER:"Other"})[e]||e:"Not specified",j.event_count>0&&(0,t.jsxs)("span",{className:"ml-2",children:["â€¢ ",j.event_count," event",1!==j.event_count?"s":""]})]})]}),j.logo_url&&(0,t.jsx)(a.default,{src:j.logo_url,alt:`${j.name} logo`,width:80,height:80,className:"object-contain rounded-lg"})]})}),(0,t.jsxs)(f.CardContent,{children:[j.cover_image_url&&(0,t.jsx)(a.default,{src:j.cover_image_url,alt:`${j.name} cover`,width:800,height:192,className:"w-full h-48 object-cover rounded-lg mb-6"}),j.description&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"About"}),(0,t.jsx)("p",{className:"text-muted-foreground whitespace-pre-wrap",children:j.description})]}),(0,t.jsxs)(m.FieldGroup,{children:[j.email&&(0,t.jsxs)(m.Field,{children:[(0,t.jsx)(m.FieldLabel,{children:"Email"}),(0,t.jsx)(m.FieldContent,{children:(0,t.jsx)("a",{href:`mailto:${j.email}`,className:"text-primary hover:underline",children:j.email})})]}),j.website&&(0,t.jsxs)(m.Field,{children:[(0,t.jsx)(m.FieldLabel,{children:"Website"}),(0,t.jsx)(m.FieldContent,{children:(0,t.jsx)("a",{href:j.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:j.website})})]}),j.phone&&(0,t.jsxs)(m.Field,{children:[(0,t.jsx)(m.FieldLabel,{children:"Phone"}),(0,t.jsx)(m.FieldContent,{children:(0,t.jsx)("a",{href:`tel:${j.phone}`,className:"text-primary hover:underline",children:j.phone})})]}),(j.address||j.city||j.country)&&(0,t.jsxs)(m.Field,{children:[(0,t.jsx)(m.FieldLabel,{children:"Location"}),(0,t.jsx)(m.FieldContent,{children:(0,t.jsx)("p",{children:[j.address,j.city,j.country].filter(Boolean).join(", ")})})]}),j.established_date&&(0,t.jsxs)(m.Field,{children:[(0,t.jsx)(m.FieldLabel,{children:"Established"}),(0,t.jsx)(m.FieldContent,{children:(0,t.jsx)("p",{children:new Date(j.established_date).toLocaleDateString()})})]}),(0,t.jsxs)(m.Field,{children:[(0,t.jsx)(m.FieldLabel,{children:"Owner"}),(0,t.jsx)(m.FieldContent,{children:(0,t.jsx)("p",{children:"owner_name"in j?j.owner_name:"Unknown"})})]})]}),(j.twitter_handle||j.facebook_url||j.linkedin_url||j.instagram_handle)&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Social Media"}),(0,t.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[j.twitter_handle&&(0,t.jsxs)("a",{href:`https://twitter.com/${j.twitter_handle}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:["Twitter: @",j.twitter_handle]}),j.facebook_url&&(0,t.jsx)("a",{href:j.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Facebook"}),j.linkedin_url&&(0,t.jsx)("a",{href:j.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"LinkedIn"}),j.instagram_handle&&(0,t.jsxs)("a",{href:`https://instagram.com/${j.instagram_handle}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:["Instagram: @",j.instagram_handle]})]})]})]})]}),z&&(0,t.jsxs)(f.Card,{className:"mb-6",children:[(0,t.jsxs)(f.CardHeader,{children:[(0,t.jsx)(f.CardTitle,{children:"Collaborators"}),(0,t.jsx)(f.CardDescription,{children:"Add organizers as collaborators who can create, update, and cancel events for this organization"})]}),(0,t.jsxs)(f.CardContent,{children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)(m.Field,{children:[(0,t.jsx)(m.FieldLabel,{children:"Search for Organizers"}),(0,t.jsxs)(m.FieldContent,{children:[(0,t.jsx)(c.Input,{type:"text",placeholder:"Search by username, name, or email...",value:q,onChange:e=>H(e.target.value)}),X&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Searching..."}),J&&(0,t.jsx)(m.FieldError,{children:J})]})]}),W.length>0&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Search Results:"}),W.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium",children:[e.first_name," ",e.last_name]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",e.username," â€¢ ",e.email]})]}),(0,t.jsx)(d.Button,{size:"sm",onClick:()=>ea(e),children:"Add"})]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-3",children:"Current Collaborators:"}),U?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):0===L.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No collaborators yet. Search above to add organizers."}):(0,t.jsx)("div",{className:"space-y-2",children:L.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium",children:[e.first_name," ",e.last_name]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",e.username," â€¢ ",e.email]})]}),(0,t.jsx)(d.Button,{size:"sm",variant:"outline",onClick:()=>es(e.id),children:"Remove"})]},e.id))})]})]})]}),(0,t.jsxs)(f.Card,{children:[(0,t.jsx)(f.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.CardTitle,{children:"Events"}),(0,t.jsxs)(f.CardDescription,{children:["Events organized by ",j.name]})]}),(z||R)&&(0,t.jsx)(d.Button,{asChild:!0,children:(0,t.jsx)(n.default,{href:`/create-event?organization=${x}`,onClick:()=>{k?sessionStorage.setItem("org_detail_referrer",k):sessionStorage.setItem("org_detail_referrer",window.location.pathname+window.location.search)},children:"Create Event"})})]})}),(0,t.jsx)(f.CardContent,{children:C?(0,t.jsx)("p",{children:"Loading events..."}):0===v.length?(0,t.jsx)("p",{className:"text-muted-foreground",children:"No events found."}):(0,t.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,t.jsxs)(f.Card,{className:"border relative",children:[(z||R)&&e.status&&(0,t.jsx)("span",{className:`absolute top-2 right-2 text-white text-xs px-2 py-1 rounded-md z-10 font-semibold ${"Active"===e.status?"bg-green-500":"Cancelled"===e.status||"Canceled"===e.status?"bg-red-500":"bg-gray-500"}`,children:e.status}),(0,t.jsxs)(f.CardContent,{className:"pt-6",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg",children:e.name}),e.date&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.date).toLocaleString()}),e.location&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ðŸ“ ",e.location]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-3 text-xs text-muted-foreground",children:[void 0!==e.participant_count&&(0,t.jsxs)("span",{children:["ðŸ‘¥ ",e.participant_count," participants"]}),void 0!==e.interest_count&&(0,t.jsxs)("span",{children:["â¤ï¸ ",e.interest_count," interested"]})]}),(0,t.jsx)(d.Button,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>{A(String(e.id)),D(!0)},children:"View Details"})]})]},e.id))})})]}),T&&$&&(0,t.jsx)(u.default,{id:$,onClose:()=>{D(!1),A(null),en()},onInterestChange:(e,t,r)=>{_(t=>t.map(t=>t.id===e?{...t,interest_count:r}:t))},onParticipationChange:(e,t,r,i)=>{_(n=>n.map(n=>n.id===e?{...n,participant_count:r,is_participating:t,is_full:i}:n))}})]})}function g(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"container mx-auto p-8 max-w-4xl",children:(0,t.jsx)("p",{children:"Loading..."})}),children:(0,t.jsx)(h,{})})}e.s(["default",()=>g])}]);