(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),n=e.i(47163);function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}var i=e.i(67881),c=e.i(22016);function d({id:e,onClose:n}){let[a,l]=(0,s.useState)(null),[r,d]=(0,s.useState)(!0),[o,h]=(0,s.useState)(null);return((0,s.useEffect)(()=>{if(!e)return;let t=!1;fetch(`https://APimenta4.pythonanywhere.com/api/events/${e}/`).then(e=>{if(!e.ok)throw Error(`Status ${e.status}`);return e.json()}).then(e=>{t||l(e)}).catch(e=>{t||h(e&&e.message||"Failed to load event")}).finally(()=>{t||d(!1)});let s=e=>{"Escape"===e.key&&n()};return window.addEventListener("keydown",s),()=>{t=!0,window.removeEventListener("keydown",s)}},[e,n]),e)?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",role:"dialog","aria-modal":"true",onClick:n,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 relative",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Event details"}),(0,t.jsx)("button",{"aria-label":"Close modal",onClick:n,className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"mt-4 min-h-[120px]",children:[r&&(0,t.jsx)("p",{children:"Loading..."}),o&&(0,t.jsxs)("p",{className:"text-red-600",children:["Error: ",o]}),!r&&!o&&a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",(0,t.jsx)("span",{className:"font-normal",children:a.name})]}),a.date&&(0,t.jsxs)("p",{className:"mt-2",children:[(0,t.jsx)("strong",{children:"Date:"})," ",(0,t.jsx)("span",{className:"font-normal",children:new Date(a.date).toLocaleString()})]}),a.location&&(0,t.jsxs)("p",{className:"mt-2",children:[(0,t.jsx)("strong",{children:"Location:"})," ",(0,t.jsx)("span",{className:"font-normal",children:a.location})]}),a.description&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("strong",{children:"Description:"}),(0,t.jsx)("div",{className:"mt-1 whitespace-pre-wrap font-normal",children:a.description})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex justify-start gap-4",children:[(0,t.jsx)(c.default,{href:"",children:(0,t.jsx)(i.Button,{children:"Edit"})}),(0,t.jsx)(c.default,{href:"",children:(0,t.jsx)(i.Button,{children:"Cancel"})})]}),(0,t.jsxs)("div",{className:"mt-6 flex justify-start gap-4",children:[(0,t.jsx)(c.default,{href:"",children:(0,t.jsx)(i.Button,{children:"Participate"})}),(0,t.jsx)(c.default,{href:"",children:(0,t.jsx)(i.Button,{children:"Interested"})})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-start gap-4",children:(0,t.jsx)(c.default,{href:"/profile/login",children:(0,t.jsx)(i.Button,{children:"Login"})})})]})}):null}function o(){let[e,n]=(0,s.useState)([]),[c,o]=(0,s.useState)(!0),[h,x]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1),[j,f]=(0,s.useState)(null);return((0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("https://APimenta4.pythonanywhere.com/api/events/upcoming/");if(!e.ok)throw Error("Failed to fetch events");let t=await e.json();n(t.results??[])}catch(e){x(e.message||"Unknown error")}finally{o(!1)}})()},[]),c)?(0,t.jsx)("p",{children:"Loading events..."}):h?(0,t.jsxs)("p",{children:["Error: ",h]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Upcoming Events"}),0===e.length&&(0,t.jsx)("p",{children:"No events available"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,t.jsxs)(a,{className:"shadow hover:shadow-lg transition",children:[(0,t.jsxs)(l,{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleString()}),e.location&&(0,t.jsxs)("p",{className:"text-sm text-gray-700 mt-1",children:["ðŸ“ ",e.location]})]}),(0,t.jsx)(r,{children:(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>{f(String(e.id)),u(!0)},children:"View Details"})})]},e.id))}),m&&(0,t.jsx)(d,{id:j,onClose:()=>{u(!1),f(null)}})]})}e.s(["default",()=>o],31713)}]);